!!<html><head>
!!$wims_html_header
!!</head><body $wims_htmlbody>
!!!headmenu
!read adm/css.phtml
!header1

!!if $cmd=help
 !!read help.phtml
 !!goto end
!!endif

!read names.phtml
!read adm/title.phtml 3\
WIMS à $httpd_HTTP_HOST\
´´½¨$name_classess
!!<h1 class="wims_title">WIMS Î»ÓÚ $httpd_HTTP_HOST
!!<br>
!!´´½¨$name_classess
!!</h1> <p><hr width="50%"> <p>

!if $toomany=yes
 !read toomany.phtml
 !goto end
!endif

!if $error!=$empty
 <p>
 !read msg.phtml
 !if $restart!=no
 <p>
 !href module=$module&cmd=reply&step=0 ÖØĞÂ²Ù×÷.
 !endif
 <p>
 !goto end
!endif

!if $step=$empty or $step=pre
 Ñ¡ÔñÄãÒª´´½¨µÄĞéÄâ°à¼¶µÄÀàĞÍ.
 <p>
 !href cmd=reply&step=0&cltype=0 ¶ÀÁ¢°à¼¶
 ÒÔ¹ÜÀíÒ»ÈºÑ§ÉúµÄ¹¤×÷.
 !set wims_menu_items=!append line create_class,1,cmd=reply&step=0&cltype=0\
 to $wims_menu_items
 <p>
 !if $regpolicy=file
  !set noright=(ÄãÃ»ÓĞÈ¨ÏŞ×öÕâ¼şÊÂ.)
 !else
  !set noright=(Ö»ÓĞÍøÕ¾¹ÜÀíÔ±²ÅÄÜ×öÕâ¼şÊÂ.)
 !endif
 !if 2 isitemof $alltypes
Ò»×é°à¼¶µÄ
 !href cmd=reply&step=0&cltype=2 Èë¿Ú
.
   !set wims_menu_items=!append line create_superclass,1,cmd=reply&step=0&cltype=2\
 to $wims_menu_items
 !else
Ò»×é°à¼¶µÄ
 <font color=blue><strike>Èë¿Ú</strike></font>
. $noright
 !endif
 <p>
 !if 4 isitemof $alltypes
Ò»¸öÑ§Ğ£µÄ
  !href cmd=reply&step=0&cltype=4 Èë¿Ú
.
!set wims_menu_items=!append line create_portal,1,cmd=reply&step=0&cltype=4\
 to $wims_menu_items
 !else
Ò»¸öÑ§Ğ£µÄ
 <font color=blue><strike>Èë¿Ú</strike></font>
. $noright
 !endif
 <p>
 <b>°ïÖú</b>. ¾ßÓĞÍ¬Ò»Èë¿ÚµÄÒ»×é°à¼¶Ê¹µÃ½ÌÊ¦¿ÉÒÔ½»»»»ò¹²Ïí½Ì²Ä,
Ñ§ÉúÒ²¿É´ÓÒ»¸ö°àÌøµ½ÁíÒ»¸ö°à, ²»ĞèÖØĞÂÊäÈëÃÜÂë.
 <p>
Ñ§Ğ£ÊÇÒ»¸ö¶à²ã´ÎµÄĞéÄâ°à¼¶ÏµÍ³, ËüÄÜÂú×ãÕû¸öÑ§Ğ£µÄĞèÇó:
Ê¦ÉúÊı¾İ¿â, ²»Í¬µÄÄê¼¶, ½ÌÑ§¼Æ»®ºÍ¿Î³Ì, Ñ§Éú°à¼¶, ¸ºÔğ½ÌÊ¦µÈµÈ.
 !goto end
!endif

!if $step=0
 !if $Cltype<2
   <font color="blue">°à¼¶</font>
 µÄ´´½¨ÊÇÓÉ<font color="blue">½ÌÊ¦</font>²Ù×÷µÄ. 
 !else
    <font color="blue">$name_classe</font>
µÄ´´½¨ÊÇÓÉ<font color="blue">Ö÷³Ö½ÌÊ¦</font>²Ù×÷µÄ. 
 !endif
ÄãĞèÒªÓĞÒ»¸öÓĞĞ§µÄµç×ÓÓÊ¼şµØÖ·²ÅÄÜÍê³É´Ë²Ù×÷.
 ÔÚÄã´´½¨ÁËÄãµÄ$name_classeºó, ÄãÓ¦¸Ã¸ºÆğÎ¬»¤µÄÔğÈÎ. <p>
 ÎªÁË´´½¨ÄãµÄ$name_classe, ÇëÌá¹©ÒÔÏÂĞÅÏ¢.
 !form reply
 <input type=hidden name=step value=1>
 <ul>
 <li><label for="institution">Ñ§Ğ£Ãû³Æ (ÖÁ¶à$instlim¸ö×Ö·û):</label>
 !if $Cltype isin 13
  !default institution=$wims_institutionname
 !endif
  <input size=$instlim name=institution value="$institution"> <p>
 <li><label for="description">$name_classesssÃû (ÖÁ¶à$desclim¸ö×Ö·û):</label>
  <input size=$desclim name=description value="$description"> <p>
 !if $Cltype notin 24
 <li>$name_classesssµÄ³Ì¶È:<br>
  <center><table border=1>
  <tr><th><label for="level">Äê¼¶</label>
  !for j=1 to 6
   <td align=center>$j</td>
  !next j
  </tr>
  !for i in E,H,U
   <tr><td align=center>$(lev_$i)</td>
   !for j=1 to 6
    !if $i!=U or $j<6
     <td><input type=radio name=level id="level"
     !if $level=$i$j
      checked
     !endif
     value=$i$j></td>
    !else
     <td>.</td>
    !endif
   !next j
  !next i
  </tr></table></center> <p>
 !endif
 <li>$name_classesssµÄ$name_supµÄÈ«Ãû (¾ÍÊÇÄã×Ô¼º):
  <input size=$suplim name=supervisor value="$supervisor"> <p>
 <li>µçÓÊµØÖ·:
  <input size=$emaillim name=email value="$email">
  !if $regpolicy=email
   <br>(Ö»ÓĞÄãµÄµçÓÊµØÖ·ÏÖÔÚ¾ÍÓĞĞ§, $name_classesssµÄ´´½¨¹¤×÷²ÅÄÜ³É¹¦.)
  !endif
  <p>
 <li><label for="password">Ñ¡Ôñ$name_supµÄÃÜÂë:</label>
  <input size=16 type=passsup name=passsup id="passsup"> <br>
  (4 ÖÁ 16 ¸ö×Ö·û, ¿ÉÒÔÊÇÊı×Ö»ò×ÖÄ¸). <br>
  <small>´ËÃÜÂëÊ¹ÄãÄÜ×÷ÎªËüµÄ$name_sup½øÈë$name_classe.
  Ö»ÓĞÄãÒ»¸öÈËÄÜÖªµÀ´ËÃÜÂë.</small> <p>
 <li><label for="password">Ñ¡Ôñ$name_classesssµÄÃÜÂë (¿ÉÑ¡µÄ):</label>
  <input size=16 type=password name=password id="password"> <br>
  (4 ÖÁ 16 ¸ö×Ö·û, ¿ÉÒÔÊÇÊı×Ö»ò×ÖÄ¸). <br>
  <small>$name_classesssµÄÃÜÂëÊÇÓÃÓÚ×¢²á
    !if $Cltype<2
°à¼¶µÄ²Î¼ÓÕßµÄ; Òò´Ë¿ÉÒÔ·Ö·¢¸øÄãµÄÑ§Éú.
    !else
$name_classesssµÄ½ÌÊ¦µÄ; Äã²»ÄÜ¸æËßÄãµÄÑ§Éú.
 !endif
 <br>
  ÈÎºÎÈË¶¼ÄÜ½øÈëÃ»ÓĞÃÜÂëµÄ$name_classe, ¶øÍøÕ¾¹ÜÀíÔ±ÊÇ²»ÔÊĞíÕâÑù×öµÄ.</small> <p>
 <li><label for="exp_day">Ê§Ğ§ÈÕÆÚ</label>
  <select name=exp_day id="exp_day">
  !for i=1 to 31
   <option value=$i
   !ifval $i=$exp_day
    selected
   !endif
   >$i
  !next i
  </select> <select name=exp_month id="exp_month">
  !for i=1 to 12
   <option value=$i
   !ifval $i=$exp_month
    selected
   !endif
   >
   !item $i of $months
  !next i
  </select> <select name=exp_year id="exp_year">
  !for i=$thisyear to $thisyear+1
   <option value=$i
   !ifval $i=$exp_year
    selected
   !endif
   >$i
  !next i
  </select> <p>
 <li>$name_classe²Î¼ÓÕßÈËÊıÉÏÏŞ:
  <input size=3 name=limit value="$limit">
  (×î¶à$wims_class_user_limit.) <p>
 <li>$name_supµÄ°²È«½øÈë:
  <input size=30 name=secure value="$secure"> <br>
  <small>Äã¶Ô$name_classeÊ©ĞĞÃô¸Ğ²Ù×÷µÄÖ÷»úÃû.
  !if $Cltype<3
    ¿ÉÑ¡µÄ.
  !endif 
  </small> <p>
 </ul>
 <center><input type=submit value="¼ÌĞø"></center>
 </form>

 !goto end
!endif

!if $step=1
 ÄãºÃ, $supervisor!<p>
ÄãÕıÔÚ WIMS ÍøÕ¾$httpd_HTTP_HOSTÉÏ´´½¨$name_classe $classname,
 !if $Cltype iswordof 0 1
³Ì¶ÈÊÇ 
 ``<b><font color=green>$name_level</font></b>'',
 !endif
 ÏŞÖÆ$ilimit¸ö²Î¼ÓÕß. ×¢²áµ½´Ë°à¼¶
 !if $pword!=$empty
ÊÜµ½$name_classesssµÄÃÜÂë±£»¤.
 !else
¶Ô»¥ÁªÍøÉÏËùÓĞÈË¿ª·Å (Äã¿Ï¶¨Âğ? Çë×¢ÒâÍøÕ¾¹ÜÀíÔ±½«¾Ü¾ø²¢Çå³ı¹«¿ªµÄ°à¼¶!).
 !endif
´Ë°à¼¶½«ÓÚ$exp_year-$exp_month-$exp_dayµ½ÆÚ. <p>
Èç¹ûÄã·¢ÏÖÉÏÊöĞÅÏ¢ÖĞµÄ´íÎó, Çë
 !href module=$module&cmd=reply&step=0 ¾ÀÕıËü.
 <p>·ñÔò, ÎªÁË²âÊÔÄãµÄÃÜÂëµÄÕıÈ·ĞÔ,
ÇëÔÙÊäÈëÒ»´Î. <p>
 !form reply
 <input type=hidden name=step value=2>
<label for="passsup">Ö÷³Ö½ÌÊ¦ÃÜÂë:</label>
 <input type=password name=passsup id="passsup"> <p>
 !if $pword!=$empty
<label for="password">$name_classesssµÄÃÜÂë:</label>
  <input type=password name=password id="password"> <p>
 !endif
 <center><input type=submit value="¼ÌĞø"></center>
 </form>
 !goto end1
!endif

!if $step=2
ÄãºÃ, $supervisor!<p>
ÎªÁËÔÚ WIMS ÍøÕ¾$http_HTTP_HOSTÉÏ½áÊø´´½¨ĞÂ°à¼¶µÄ²Ù×÷, ÄãĞèÒªÊäÈëÒ»¸öÃÜÂë.<p>
´ËÃÜÂëÒÑ¾­ËÍµ½ÄãµÄµçÓÊµØÖ·``<tt>$email</tt>''. 
ÇëÈ¥´ò¿ªÄãµÄµçÓÊĞÅÏä(Ò²ĞíÒªÉÔµÈÒ»»á), ÔÄ¶ÁĞÅÏ¢.
È¡³öÃÜÂë, ²¢ÊäÈëµ½ÏÂÃæ
 !form reply
 <input type=hidden name=step value=3>
 <center><label for="typecode">°à¼¶ÃÜÂë: </label><input size=12 name=typecode id="typecode">
 <p><input type=submit value="¼ÌĞø"></center>
 </form>
 <b>×¢Òâ</b> ´ËÃÜÂëÖ»ÓÃÒ»´Î. ²»ÄÜÓÃÓÚÁ¬½Ó$name_classe!
 <p>
 !goto end1
!endif

!if $step=3
ÄãºÃ, $supervisor!<p>
ÄãµÄ$name_classe $classnameÒÑ¾­½¨Á¢. ×£ºØÄã!<p>
²Î¼ÓÕßÈËÊıÏŞÖÆÎª$ilimit(°üÀ¨Äã×Ô¼º)
  !if $Cltype iswordof 0 1
  , ³Ì¶ÈÎª<font color=green>$name_level</font>.
 !endif
 <p>
 !read links.phtml
 !goto end
!endif

:end1
<p>
!href module=$module&cmd=reply&step=0 »Øµ½²Ù×÷µÄÆğÊ¼.
:end
!tail

!set step=

